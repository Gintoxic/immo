{
    "contents" : "source(\"ginhist2d.R\")\nsource(\"dbFunctions.R\")\n\ngetwd()\nstartzeit<-Sys.time()\nchannel<-connectPostgres()  \n\nstmnt<-\n  \"select g.id, g.lon, g.lat, l.attribs,split_part(l.attribs,';',1) as val1,split_part(l.attribs,';',2) as val2,split_part(l.attribs,';',3) as val3 from immogeo g inner join immolist l on g.id=l.id\"\nimmodat<-dbGetQuery(conn = channel, statement = stmnt)\n\ndisconnectPostgres(channel)\n\nlaufzeit<-Sys.time()-startzeit\nprint(laufzeit)\n\n#save(list = \"immodat\", file = \"immodat.RData\")\n\nstr(immodat)\n\n\nplot(immodat$lon, immodat$lat)\n\n\nv1a<-gsub(pattern = \"\\U20ac\", replacement = \"\", x = immodat$val1)\nv1b<-gsub(pattern = \"\\\\.\", replacement = \"\", x = v1a)\nimmodat$preis<-as.numeric(v1b)\n\n\nv2a<-gsub(pattern = \"\\\\mÂ²\", replacement = \"\", x = immodat$val2)\nimmodat$qm<-as.numeric(v2a)\n\n\nv3a<-gsub(pattern = \"\\\\Zi.\", replacement = \"\", x = immodat$val3)\nv3b<-gsub(pattern = \"\\\\,\", replacement = \".\", x = v3a)\nimmodat$zimmmer<-as.numeric(v3b)\n\nlibrary(gplots)\n\n\n#ginhist2d( y=immodat$lat, x=immodat$lon,val=immodat$preis)\n#ginhist2d( y=immodat$lat, x=immodat$lon,val=immodat$preis)\n#ginhist2d( y=immodat$lat, x=immodat$lon,val=immodat$qm)\n\n#mycol<-c(\"#ffffff\",(colorRampPalette(c(\"#ffffff\", \"#003193\"))(20)[10:20]))\n\nmycol<-colorRampPalette(c(\"#ffffff\", \"#003193\"))(50)\n\nmycol<-c(\"#ffffff\", colorRampPalette(c(\"#A6B7D9\", \"#003193\"))(50))\nim.ret<-ginhist2d( y=immodat$lat, x=immodat$lon,val=immodat$qm, nbins = 20, col=mycol, func_choice=\"mean\")\n\n\nstr(im.ret)\na<-im.ret\nb<-as.matrix(a)\nb[1,2:5]\nattributes(a)\n\nmm<-as.matrix(im.ret)\nprint(c(i,j))\ni=2\nj=3\nif (mm[i,j]!=0){\n  text(xx[i]+(xx[2]-xx[1])/2, yy [j], i, pos=3)\n}\n\nstr(im.ret)\n\nim.unl<-unlist(im.ret)\n\n\n\n\na[1,1]==0.0\n\n\nload(\"DEU_adm1.RData\")\n\na<-gadm@polygons[[1]]\n\nfor (i in 1:16)\n{\n  poly<-gadm@polygons[[i]]@Polygons\n  print(  length(poly))\n\n  for (j in 1:length(poly))\n  {\n    lines(poly[[j]])\n  }\n}\n  \n\n",
    "created" : 1439487617995.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1419315548",
    "id" : "CE7366F4",
    "lastKnownWriteTime" : 1439505410,
    "path" : "E:/Work/immo/getimmodat.R",
    "project_path" : "getimmodat.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}